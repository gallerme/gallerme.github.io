(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["colorDetail"],{"06e4":function(t,o,i){"use strict";var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(t){return"string"===typeof t&&e.test(t)}o["a"]=s},"0b86":function(t,o,i){},"0f7b":function(t,o,i){"use strict";var e=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"modal fade",class:t.showModalClass,attrs:{tabindex:"-1"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),i("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:function(o){return t.toggleVisible()}}})]),i("div",{staticClass:"modal-body"},[t._v(t._s(t.body))]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(o){return t.toggleVisible()}}},[t._v(" Cancel ")]),i("button",{staticClass:"btn",class:t.primaryButtonClass,attrs:{type:"button"},on:{click:t.primaryButton}},[t._v(" "+t._s(t.primaryButtonText)+" ")])])])])])},s=[],n={name:"ConfirmationModal",props:{visible:Boolean,title:String,body:String,primaryButtonText:{type:String,default:"Confirm"},primaryButtonClass:{type:String,default:"btn-primary"}},computed:{showModalClass:function(){return this.visible?"show showModal":""}},methods:{toggleVisible:function(){this.$emit("toggleVisible")},primaryButton:function(){this.$emit("toggleVisible"),this.$emit("primaryButton")}}},a=n,r=(i("6dc3"),i("2877")),l=Object(r["a"])(a,e,s,!1,null,"6a792432",null);o["a"]=l.exports},5118:function(t,o,i){"use strict";i("b078")},"5e0f":function(t,o,i){"use strict";i.r(o);var e=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container"},[i("h1",{staticClass:"display-3 text-center mt-2"},[t._v("Edit Saved Color")]),i("div",{staticClass:"card mt-2"},[i("display-color",{staticClass:"card-body",attrs:{color:t.color}})],1),i("p",{staticClass:"mt-3"},[i("router-link",{attrs:{to:{name:"PublicProfile",params:{id:t.color.user_id}}}},[t._v(" Visit the owner's profile page ")])],1),t.userIsOwner?i("form",{staticClass:"card mt-3"},[i("div",{staticClass:"card-body"},[i("div",[i("label",{staticClass:"form-label",attrs:{for:"color-name"}},[t._v(" Edit saved color's name ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.color.name,expression:"color.name"}],staticClass:"form-control",class:t.nameFormClass,attrs:{type:"text",placeholder:"Name",id:"color-name"},domProps:{value:t.color.name},on:{input:function(o){o.target.composing||t.$set(t.color,"name",o.target.value)}}}),i("div",{staticClass:"invalid-feedback"},[t._v("A name is required!")])]),i("button",{staticClass:"btn btn-warning me-1 mt-2",attrs:{type:"button",disabled:!t.buttonValid},on:{click:function(o){return t.updateButton()}}},[t._v(" Update Name ")]),i("button",{staticClass:"btn btn-danger me-1 mt-2",attrs:{type:"button"},on:{click:function(o){return t.deleteButton()}}},[t._v(" Delete Color ")])])]):t._e(),i("div",{staticClass:"mt-2"},[i("h2",[t._v("Artworks connected to this color")]),i("art-list")],1),i("confirmation-modal",{attrs:{title:t.confirmationTitle,body:t.confirmationBody,primaryButtonText:t.confirmationButton,primaryButtonClass:t.confirmationButtonClass,visible:t.confirmationVisible},on:{toggleVisible:t.toggleVisible,primaryButton:t.confirmedButton}})],1)},s=[],n=i("5530"),a=(i("b0c0"),i("06e4")),r=i("2f62"),l=i("d5ff"),c=i("3bef"),d=i("0f7b"),u={components:{DisplayColor:l["a"],ArtList:c["a"],ConfirmationModal:d["a"]},name:"ColorDetail",data:function(){return{confirmedMethod:"",confirmationTitle:"",confirmationButton:"Confirm",confirmationButtonClass:"btn-primary",confirmationBody:"",confirmationVisible:!1}},beforeMount:function(){this.id=this.$route.params.id,Object(a["a"])(this.id)?(this.$store.dispatch("colors/fetchColorById",this.id),this.$store.dispatch("art/fetchArtByColorId",this.id)):this.$router.push({name:"Home"})},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(r["d"])(["currentUser"])),Object(r["d"])("colors",["color"])),{},{userIsOwner:function(){return this.currentUser&&this.color&&this.currentUser.id===this.color.user_id},nameFormClass:function(){return""!==this.color.name&&this.color.name.length<=50?"":"is-invalid"},buttonValid:function(){return""!==this.color.name&&this.color.name.length<=50}}),methods:{updateButton:function(){this.confirmedMethod="update",this.confirmationTitle="Update your color's name?",this.confirmationBody="Are you sure you want to update this name? It will be immediately visible to other users.",this.confirmationButton="Update Color Name",this.confirmationButtonClass="btn-warning",this.toggleVisible()},deleteButton:function(){this.confirmedMethod="delete",this.confirmationTitle="Delete saved color?",this.confirmationBody="Are you sure you want to delete this color? It will be permanently deleted from our system.",this.confirmationButton="Delete Color",this.confirmationButtonClass="btn-danger",this.toggleVisible()},toggleVisible:function(){this.confirmationVisible=!this.confirmationVisible},confirmedButton:function(){switch(this.confirmedMethod){case"update":this.$store.dispatch("colors/updateColor",this.color);break;case"delete":this.$store.dispatch("colors/deleteColor",{id:this.id,redirectLink:"/"});break}}}},m=u,f=i("2877"),b=Object(f["a"])(m,e,s,!1,null,null,null);o["default"]=b.exports},"6dc3":function(t,o,i){"use strict";i("0b86")},b078:function(t,o,i){},d5ff:function(t,o,i){"use strict";var e=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"colorSquare me-2",style:{backgroundColor:t.color.color}}),i("div",[t._v(t._s(t.color.name))])])},s=[],n={name:"DisplayColor",props:{color:Object}},a=n,r=(i("5118"),i("2877")),l=Object(r["a"])(a,e,s,!1,null,"3d06b224",null);o["a"]=l.exports}}]);
//# sourceMappingURL=colorDetail.a84be5a1.js.map