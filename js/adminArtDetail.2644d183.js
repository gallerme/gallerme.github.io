(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["adminArtDetail"],{"06e4":function(t,i,e){"use strict";var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(t){return"string"===typeof t&&a.test(t)}i["a"]=s},"0b86":function(t,i,e){},"0f7b":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"modal fade",class:t.showModalClass,attrs:{tabindex:"-1"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),e("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:function(i){return t.toggleVisible()}}})]),e("div",{staticClass:"modal-body"},[t._v(t._s(t.body))]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(i){return t.toggleVisible()}}},[t._v(" Cancel ")]),e("button",{staticClass:"btn",class:t.primaryButtonClass,attrs:{type:"button"},on:{click:t.primaryButton}},[t._v(" "+t._s(t.primaryButtonText)+" ")])])])])])},s=[],r={name:"ConfirmationModal",props:{visible:Boolean,title:String,body:String,primaryButtonText:{type:String,default:"Confirm"},primaryButtonClass:{type:String,default:"btn-primary"}},computed:{showModalClass:function(){return this.visible?"show showModal":""}},methods:{toggleVisible:function(){this.$emit("toggleVisible")},primaryButton:function(){this.$emit("toggleVisible"),this.$emit("primaryButton")}}},o=r,n=(e("6dc3"),e("2877")),l=Object(n["a"])(o,a,s,!1,null,"6a792432",null);i["a"]=l.exports},"22e0":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"list-group"},t._l(t.colors,(function(i,a){return e("router-link",{key:a,staticClass:"list-group-item list-group-item-action",attrs:{to:{name:t.linkName,params:{id:i.id}}}},[e("display-color",{attrs:{color:i}})],1)})),1),0===t.colors.length?e("h3",{staticClass:"text-center mt-5 mb-5"},[t._v(" (No colors) ")]):t._e()])},s=[],r=e("5530"),o=e("2f62"),n=e("d5ff"),l={name:"ColorList",props:{isAdmin:{type:Boolean,default:!1}},components:{DisplayColor:n["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])("colors",["colors"])),{},{linkName:function(){return this.isAdmin?"AdminColorDetail":"ColorDetails"}})},c=l,d=e("2877"),u=Object(d["a"])(c,a,s,!1,null,null,null);i["a"]=u.exports},"6dc3":function(t,i,e){"use strict";e("0b86")},"9f4c":function(t,i,e){"use strict";e("dc72")},dc72:function(t,i,e){},f74e:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[t.isNew?e("div",[e("h1",{staticClass:"display-3 text-center mt-2"},[t._v("New Art")])]):e("h1",{staticClass:"display-3 text-center mt-2"},[t._v("Art Details")]),e("form",[t.isNew?t._e():e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"art-id"}},[t._v("ID")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ID",readonly:"",id:"art-id"},domProps:{value:t.id},on:{input:function(i){i.target.composing||(t.id=i.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"art-user-id"}},[t._v(" User ID "),t.isNew?t._e():e("router-link",{attrs:{to:{name:"AdminUserDetail",params:{id:t.art.user_id}}}},[t._v(" (visit user page) ")])],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.art.user_id,expression:"art.user_id"}],staticClass:"form-control",class:t.userIdFormClass,attrs:{type:"text",placeholder:"User ID",id:"art-user-id",readonly:!t.isNew},domProps:{value:t.art.user_id},on:{input:function(i){i.target.composing||t.$set(t.art,"user_id",i.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v("A valid User ID is required!")])]),t.isNew?t._e():e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"art-name"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.art.name,expression:"art.name"}],staticClass:"form-control",class:t.nameFormClass,attrs:{type:"text",placeholder:"Name",id:"art-name"},domProps:{value:t.art.name},on:{input:function(i){i.target.composing||t.$set(t.art,"name",i.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v("A name is required!")])]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Art")]),t.isNew?e("create-art",{attrs:{showFavoriteColorSelector:!1},on:{published:t.createButton}}):e("display-art",{staticClass:"art",attrs:{art:t.art}})],1),e("router-link",{staticClass:"btn btn-secondary me-1",attrs:{to:"/admin/art"}},[t._v(" Cancel ")]),t.isNew?t._e():e("button",{staticClass:"btn btn-warning me-1",attrs:{type:"button",disabled:!t.buttonValid},on:{click:function(i){return t.updateButton()}}},[t._v(" Update ")]),t.isNew?t._e():e("button",{staticClass:"btn btn-danger me-1",attrs:{type:"button"},on:{click:function(i){return t.deleteButton()}}},[t._v(" Delete ")])],1),t.isNew?t._e():e("div",{staticClass:"mt-2"},[e("h2",[t._v("Favorite Colors in this art")]),e("color-list",{attrs:{isAdmin:!0}})],1),e("confirmation-modal",{attrs:{title:t.confirmationTitle,body:t.confirmationBody,primaryButtonText:t.confirmationButton,primaryButtonClass:t.confirmationButtonClass,visible:t.confirmationVisible},on:{toggleVisible:t.toggleVisible,primaryButton:t.confirmedDeleteButton}})],1)},s=[],r=e("5530"),o=(e("b0c0"),e("2f62")),n=e("06e4"),l=e("0f7b"),c=e("d01b"),d=e("8359"),u=e("22e0"),m="new",f={name:"AdminArtDetail",components:{ConfirmationModal:l["a"],DisplayArt:c["a"],CreateArt:d["a"],ColorList:u["a"]},data:function(){return{id:"",publishedArt:{},confirmedMethod:"",confirmationTitle:"",confirmationButton:"Confirm",confirmationButtonClass:"btn-primary",confirmationBody:"",confirmationVisible:!1}},beforeMount:function(){!this.currentUserChecked||this.isAdmin?(this.id=this.$route.params.id,this.isNew?this.setArt({}):Object(n["a"])(this.id)?(this.$store.dispatch("art/fetchArtById",this.id),this.$store.dispatch("colors/fetchColorsByArtId",this.id)):this.$router.push({name:"AdminArt"})):this.$router.push("/")},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(o["b"])(["isAdmin"])),Object(o["d"])(["currentUserChecked"])),Object(o["d"])("art",["art"])),{},{isNew:function(){return this.id===m},userIdFormClass:function(){return this.art.user_id&&Object(n["a"])(this.art.user_id)?"":"is-invalid"},nameFormClass:function(){return this.art.name?"":"is-invalid"},buttonValid:function(){return this.art.user_id&&Object(n["a"])(this.art.user_id)&&this.art.name}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["c"])("art",["setArt"])),{},{createButton:function(t){this.art.user_id&&(this.publishedArt=t,this.confirmedMethod="create",this.confirmationTitle="Create new art?",this.confirmationBody="Are you sure you want to create this art?",this.confirmationButton="Create",this.confirmationButtonClass="btn-primary",this.toggleVisible())},updateButton:function(){this.confirmedMethod="update",this.confirmationTitle="Update art?",this.confirmationBody="Are you sure you want to update this art?",this.confirmationButton="Update",this.confirmationButtonClass="btn-warning",this.toggleVisible()},deleteButton:function(){this.confirmedMethod="delete",this.confirmationTitle="Delete art?",this.confirmationBody="Are you sure you want to delete this art?",this.confirmationButton="Delete",this.confirmationButtonClass="btn-danger",this.toggleVisible()},toggleVisible:function(){this.confirmationVisible=!this.confirmationVisible},confirmedDeleteButton:function(){switch(this.confirmedMethod){case"create":this.$store.dispatch("art/createArt",{art:{user_id:this.art.user_id,name:this.publishedArt.name,size:this.publishedArt.size,data:this.publishedArt.data},redirectLink:"/admin/art"});break;case"update":this.$store.dispatch("art/updateArt",this.art);break;case"delete":this.$store.dispatch("art/deleteArt",{id:this.id,redirectLink:"/admin/art"});break}}})},b=f,h=(e("9f4c"),e("2877")),p=Object(h["a"])(b,a,s,!1,null,"1ba0d16c",null);i["default"]=p.exports}}]);
//# sourceMappingURL=adminArtDetail.2644d183.js.map