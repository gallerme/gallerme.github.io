(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"0b86":function(t,e,r){},"0f7b":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal fade",class:t.showModalClass,attrs:{tabindex:"-1"}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),r("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:function(e){return t.toggleVisible()}}})]),r("div",{staticClass:"modal-body"},[t._v(t._s(t.body))]),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleVisible()}}},[t._v(" Cancel ")]),r("button",{staticClass:"btn",class:t.primaryButtonClass,attrs:{type:"button"},on:{click:t.primaryButton}},[t._v(" "+t._s(t.primaryButtonText)+" ")])])])])])},i=[],a={name:"ConfirmationModal",props:{visible:Boolean,title:String,body:String,primaryButtonText:{type:String,default:"Confirm"},primaryButtonClass:{type:String,default:"btn-primary"}},computed:{showModalClass:function(){return this.visible?"show showModal":""}},methods:{toggleVisible:function(){this.$emit("toggleVisible")},primaryButton:function(){this.$emit("toggleVisible"),this.$emit("primaryButton")}}},n=a,o=(r("6dc3"),r("2877")),l=Object(o["a"])(n,s,i,!1,null,"6a792432",null);e["a"]=l.exports},"22e0":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"list-group"},t._l(t.colors,(function(e,s){return r("router-link",{key:s,staticClass:"list-group-item list-group-item-action",attrs:{to:{name:t.linkName,params:{id:e.id}}}},[r("display-color",{attrs:{color:e}})],1)})),1),0===t.colors.length?r("h3",{staticClass:"text-center mt-5 mb-5"},[t._v(" (No colors) ")]):t._e()])},i=[],a=r("5530"),n=r("2f62"),o=r("d5ff"),l={name:"ColorList",props:{isAdmin:{type:Boolean,default:!1}},components:{DisplayColor:o["a"]},computed:Object(a["a"])(Object(a["a"])({},Object(n["d"])("colors",["colors"])),{},{linkName:function(){return this.isAdmin?"AdminColorDetail":"ColorDetails"}})},c=l,u=r("2877"),m=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=m.exports},5118:function(t,e,r){"use strict";r("b078")},"6dc3":function(t,e,r){"use strict";r("0b86")},"99af":function(t,e,r){"use strict";var s=r("23e7"),i=r("da84"),a=r("d039"),n=r("e8b5"),o=r("861d"),l=r("7b0b"),c=r("07fa"),u=r("8418"),m=r("65f0"),d=r("1dde"),f=r("b622"),p=r("2d00"),b=f("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",C=i.TypeError,_=p>=51||!a((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),y=d("concat"),g=function(t){if(!o(t))return!1;var e=t[b];return void 0!==e?!!e:n(t)},U=!_||!y;s({target:"Array",proto:!0,forced:U},{concat:function(t){var e,r,s,i,a,n=l(this),o=m(n,0),d=0;for(e=-1,s=arguments.length;e<s;e++)if(a=-1===e?n:arguments[e],g(a)){if(i=c(a),d+i>h)throw C(v);for(r=0;r<i;r++,d++)r in a&&u(o,d,a[r])}else{if(d>=h)throw C(v);u(o,d++,a)}return o.length=d,o}})},b078:function(t,e,r){},c66d:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h1",{staticClass:"display-4 text-center mt-2"},[t._v(t._s(t.currentUser.username))]),r("form",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"mb-3"},[r("h4",[t._v("Edit fields in your user:")]),r("label",{staticClass:"form-label",attrs:{for:"user-username"}},[t._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserDup.username,expression:"currentUserDup.username"}],staticClass:"form-control",class:t.usernameFormClass,attrs:{type:"text",placeholder:"Username",id:"user-username",autocomplete:"username"},domProps:{value:t.currentUserDup.username},on:{input:function(e){e.target.composing||t.$set(t.currentUserDup,"username",e.target.value)}}}),r("div",{staticClass:"invalid-feedback"},[t._v("Username is required!")])]),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"user-email"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserDup.email,expression:"currentUserDup.email"}],staticClass:"form-control",class:t.emailFormClass,attrs:{type:"text",placeholder:"Email",id:"user-email"},domProps:{value:t.currentUserDup.email},on:{input:function(e){e.target.composing||t.$set(t.currentUserDup,"email",e.target.value)}}}),r("div",{staticClass:"invalid-feedback"},[t._v("An email is required!")])]),r("div",{staticClass:"mb-3 row"},[r("div",{staticClass:"col-12 col-md-6 mb-3 mb-md-0"},[r("label",{staticClass:"form-label",attrs:{for:"user-first-name"}},[t._v(" First Name (Not Required) ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserDup.first_name,expression:"currentUserDup.first_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First Name",id:"user-first-name"},domProps:{value:t.currentUserDup.first_name},on:{input:function(e){e.target.composing||t.$set(t.currentUserDup,"first_name",e.target.value)}}})]),r("div",{staticClass:"col-12 col-md-6"},[r("label",{staticClass:"form-label",attrs:{for:"user-last-name"}},[t._v(" Last Name (Not Required) ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserDup.last_name,expression:"currentUserDup.last_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name",id:"user-last-name"},domProps:{value:t.currentUserDup.last_name},on:{input:function(e){e.target.composing||t.$set(t.currentUserDup,"last_name",e.target.value)}}})])]),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"user-dob"}},[t._v(" Birth Day (Not Required) ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserDup.date_of_birth,expression:"currentUserDup.date_of_birth"}],staticClass:"form-control",attrs:{type:"date",id:"user-dob"},domProps:{value:t.currentUserDup.date_of_birth},on:{input:function(e){e.target.composing||t.$set(t.currentUserDup,"date_of_birth",e.target.value)}}})]),r("button",{staticClass:"btn btn-warning me-1",attrs:{type:"button",disabled:!t.buttonValid},on:{click:function(e){return t.updateButton()}}},[t._v(" Update user fields ")]),r("button",{staticClass:"btn btn-danger me-1",attrs:{type:"button"},on:{click:function(e){return t.deleteButton()}}},[t._v(" Delete account ")])])]),r("h2",{staticClass:"mt-5"},[t._v("Artworks created by "+t._s(t.displayName))]),r("art-list"),r("h2",{staticClass:"mt-5"},[t._v("Colors saved by "+t._s(t.displayName))]),r("color-list"),r("confirmation-modal",{attrs:{title:t.confirmationTitle,body:t.confirmationBody,primaryButtonText:t.confirmationButton,primaryButtonClass:t.confirmationButtonClass,visible:t.confirmationVisible},on:{toggleVisible:t.toggleVisible,primaryButton:t.confirmedButton}})],1)},i=[],a=r("5530"),n=(r("99af"),r("2f62")),o=r("22e0"),l=r("3bef"),c=r("0f7b"),u={components:{ColorList:o["a"],ArtList:l["a"],ConfirmationModal:c["a"]},name:"PublicProfile",data:function(){return{confirmedMethod:"",confirmationTitle:"",confirmationButton:"Confirm",confirmationButtonClass:"btn-primary",confirmationBody:"",confirmationVisible:!1}},beforeMount:function(){!this.currentUserChecked||this.isLoggedIn?(this.$store.dispatch("art/fetchArtForCurrentUser"),this.$store.dispatch("colors/fetchColorsForCurrentUser")):this.$router.push("/")},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(n["b"])(["isLoggedIn"])),Object(n["d"])(["currentUser","currentUserDup","currentUserChecked"])),{},{displayName:function(){return this.currentUser.first_name||this.currentUser.last_name?"".concat(this.currentUser.first_name," ").concat(this.currentUser.last_name):this.currentUser.username},usernameFormClass:function(){return this.currentUserDup.username?"":"is-invalid"},emailFormClass:function(){return this.currentUserDup.email?"":"is-invalid"},buttonValid:function(){return this.currentUserDup.username!==this.currentUser.username||this.currentUserDup.email!==this.currentUser.email||this.currentUserDup.first_name!==this.currentUser.first_name||this.currentUserDup.last_name!==this.currentUser.last_name||this.currentUserDup.date_of_birth!==this.currentUser.date_of_birth}}),methods:{updateButton:function(){this.confirmedMethod="update",this.confirmationTitle="Update your account information?",this.confirmationBody="Are you sure you want to update this information? It will be permanent.",this.confirmationButton="Update account",this.confirmationButtonClass="btn-warning",this.toggleVisible()},deleteButton:function(){this.confirmedMethod="delete",this.confirmationTitle="Delete account?",this.confirmationBody="Are you sure you want to delete your account? If you do, all of your artworks and colors will be deleted as well!",this.confirmationButton="Delete account",this.confirmationButtonClass="btn-danger",this.toggleVisible()},toggleVisible:function(){this.confirmationVisible=!this.confirmationVisible},confirmedButton:function(){switch(this.confirmedMethod){case"update":this.$store.dispatch("users/updateUser",this.currentUserDup);break;case"delete":this.$store.dispatch("users/deleteUser",{id:this.currentUser.id,redirectLink:"/"});break}}}},m=u,d=r("2877"),f=Object(d["a"])(m,s,i,!1,null,null,null);e["default"]=f.exports},d5ff:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex align-items-center"},[r("div",{staticClass:"colorSquare me-2",style:{backgroundColor:t.color.color}}),r("div",[t._v(t._s(t.color.name))])])},i=[],a={name:"DisplayColor",props:{color:Object}},n=a,o=(r("5118"),r("2877")),l=Object(o["a"])(n,s,i,!1,null,"3d06b224",null);e["a"]=l.exports}}]);
//# sourceMappingURL=profile.f803e2b6.js.map