(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["adminUserDetail"],{"0540":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.isNew?s("div",[s("h1",{staticClass:"display-3 text-center mt-2"},[t._v("New User")])]):s("h1",{staticClass:"display-3 text-center mt-2"},[t._v("User Details")]),s("form",[t.isNew?t._e():s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"user-id"}},[t._v("ID")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ID",readonly:"",id:"user-id"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"user-username"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",class:t.usernameFormClass,attrs:{type:"text",placeholder:"Username",id:"user-username",autocomplete:"username"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("Username is required!")])]),t.isNew?s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"user-password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",class:t.passwordFormClass,attrs:{type:"password",placeholder:"Password",id:"user-password",autocomplete:"new-password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("Password is required!")])]):t._e(),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"user-email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",class:t.emailFormClass,attrs:{type:"text",placeholder:"Email",id:"user-email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("An email is required!")])]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-check-label"},[t._v("User Type")]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.role,expression:"user.role"}],staticClass:"form-check-input",class:t.roleFormClass,attrs:{type:"radio",value:"USER",name:"role-radio",id:"user-option"},domProps:{checked:t._q(t.user.role,"USER")},on:{change:function(e){return t.$set(t.user,"role","USER")}}}),t._m(0)]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.role,expression:"user.role"}],staticClass:"form-check-input",class:t.roleFormClass,attrs:{type:"radio",value:"ADMIN",name:"role-radio",id:"admin-option"},domProps:{checked:t._q(t.user.role,"ADMIN")},on:{change:function(e){return t.$set(t.user,"role","ADMIN")}}}),t._m(1),s("div",{staticClass:"invalid-feedback"},[t._v("A role is required!")])])]),s("div",{staticClass:"mb-3 row"},[s("div",{staticClass:"col-12 col-md-6 mb-3 mb-md-0"},[s("label",{staticClass:"form-label",attrs:{for:"user-first-name"}},[t._v(" First Name (Not Required) ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.first_name,expression:"user.first_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First Name",id:"user-first-name"},domProps:{value:t.user.first_name},on:{input:function(e){e.target.composing||t.$set(t.user,"first_name",e.target.value)}}})]),s("div",{staticClass:"col-12 col-md-6"},[s("label",{staticClass:"form-label",attrs:{for:"user-last-name"}},[t._v(" Last Name (Not Required) ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.last_name,expression:"user.last_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name",id:"user-last-name"},domProps:{value:t.user.last_name},on:{input:function(e){e.target.composing||t.$set(t.user,"last_name",e.target.value)}}})])]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"user-dob"}},[t._v(" Birth Day (Not Required) ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.date_of_birth,expression:"user.date_of_birth"}],staticClass:"form-control",attrs:{type:"date",id:"user-dob"},domProps:{value:t.user.date_of_birth},on:{input:function(e){e.target.composing||t.$set(t.user,"date_of_birth",e.target.value)}}})]),s("router-link",{staticClass:"btn btn-secondary me-1",attrs:{to:"/admin/users"}},[t._v(" Cancel ")]),t.isNew?s("button",{staticClass:"btn btn-primary me-1",attrs:{type:"button",disabled:!t.buttonValid},on:{click:function(e){return t.createButton()}}},[t._v(" Create ")]):t._e(),t.isNew?t._e():s("button",{staticClass:"btn btn-warning me-1",attrs:{type:"button",disabled:!t.buttonValid},on:{click:function(e){return t.updateButton()}}},[t._v(" Update ")]),t.isNew?t._e():s("button",{staticClass:"btn btn-danger me-1",attrs:{type:"button"},on:{click:function(e){return t.deleteButton()}}},[t._v(" Delete ")])],1),t.isNew?t._e():s("div",{staticClass:"mt-2"},[s("h2",[t._v("Artworks created by this user")]),s("art-list",{attrs:{isAdmin:!0}}),s("h2",[t._v("Colors saved by this user")]),s("color-list",{attrs:{isAdmin:!0}})],1),s("confirmation-modal",{attrs:{title:t.confirmationTitle,body:t.confirmationBody,primaryButtonText:t.confirmationButton,primaryButtonClass:t.confirmationButtonClass,visible:t.confirmationVisible},on:{toggleVisible:t.toggleVisible,primaryButton:t.confirmedButton}})],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-check-label",attrs:{for:"user-option"}},[s("i",{staticClass:"fas fa-user"}),t._v(" User ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-check-label",attrs:{for:"admin-option"}},[s("i",{staticClass:"fas fa-chess-king"}),t._v(" Admin ")])}],r=s("5530"),o=s("2f62"),n=s("06e4"),l=s("0f7b"),u=s("22e0"),c=s("3bef"),d="new",m={name:"AdminUserDetail",components:{ConfirmationModal:l["a"],ColorList:u["a"],ArtList:c["a"]},data:function(){return{id:"",confirmedMethod:"",confirmationTitle:"",confirmationButton:"Confirm",confirmationButtonClass:"btn-primary",confirmationBody:"",confirmationVisible:!1}},beforeMount:function(){!this.currentUserChecked||this.isAdmin?(this.id=this.$route.params.id,this.isNew?this.setUser({}):Object(n["a"])(this.id)?(this.$store.dispatch("users/fetchUserById",this.id),this.$store.dispatch("colors/fetchColorsByUserId",this.id),this.$store.dispatch("art/fetchArtByUserId",this.id)):this.$router.push({name:"AdminUsers"})):this.$router.push("/")},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(o["b"])(["isAdmin"])),Object(o["d"])(["currentUserChecked"])),Object(o["d"])("users",["user"])),{},{isNew:function(){return this.id===d},usernameFormClass:function(){return this.user.username?"":"is-invalid"},passwordFormClass:function(){return this.user.password?"":"is-invalid"},emailFormClass:function(){return this.user.email?"":"is-invalid"},roleFormClass:function(){return"USER"===this.user.role||"ADMIN"===this.user.role?"":"is-invalid"},buttonValid:function(){return(!this.isNew||this.user.password)&&this.user.username&&this.user.email&&("USER"===this.user.role||"ADMIN"===this.user.role)}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["c"])("users",["setUser"])),{},{createButton:function(){this.confirmedMethod="create",this.confirmationTitle="Create new user?",this.confirmationBody="Are you sure you want to create this user?",this.confirmationButton="Create",this.confirmationButtonClass="btn-primary",this.toggleVisible()},updateButton:function(){this.confirmedMethod="update",this.confirmationTitle="Update user?",this.confirmationBody="Are you sure you want to update this user?",this.confirmationButton="Update",this.confirmationButtonClass="btn-warning",this.toggleVisible()},deleteButton:function(){this.confirmedMethod="delete",this.confirmationTitle="Delete user?",this.confirmationBody="Are you sure you want to delete this user?",this.confirmationButton="Delete",this.confirmationButtonClass="btn-danger",this.toggleVisible()},toggleVisible:function(){this.confirmationVisible=!this.confirmationVisible},confirmedButton:function(){var t={username:this.user.username,email:this.user.email,role:this.user.role};switch(this.user.first_name&&(t.first_name=this.user.first_name),this.user.last_name&&(t.last_name=this.user.last_name),this.user.date_of_birth&&(t.date_of_birth=this.user.date_of_birth),this.confirmedMethod){case"create":t.password=this.user.password,this.$store.dispatch("users/createUser",t);break;case"update":t.id=this.user.id,this.$store.dispatch("users/updateUser",t);break;case"delete":this.$store.dispatch("users/deleteUser",{id:this.id,redirectLink:"/admin/users"});break}}})},f=m,p=s("2877"),h=Object(p["a"])(f,i,a,!1,null,null,null);e["default"]=h.exports},"06e4":function(t,e,s){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function a(t){return"string"===typeof t&&i.test(t)}e["a"]=a},"0b86":function(t,e,s){},"0f7b":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",class:t.showModalClass,attrs:{tabindex:"-1"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:function(e){return t.toggleVisible()}}})]),s("div",{staticClass:"modal-body"},[t._v(t._s(t.body))]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleVisible()}}},[t._v(" Cancel ")]),s("button",{staticClass:"btn",class:t.primaryButtonClass,attrs:{type:"button"},on:{click:t.primaryButton}},[t._v(" "+t._s(t.primaryButtonText)+" ")])])])])])},a=[],r={name:"ConfirmationModal",props:{visible:Boolean,title:String,body:String,primaryButtonText:{type:String,default:"Confirm"},primaryButtonClass:{type:String,default:"btn-primary"}},computed:{showModalClass:function(){return this.visible?"show showModal":""}},methods:{toggleVisible:function(){this.$emit("toggleVisible")},primaryButton:function(){this.$emit("toggleVisible"),this.$emit("primaryButton")}}},o=r,n=(s("6dc3"),s("2877")),l=Object(n["a"])(o,i,a,!1,null,"6a792432",null);e["a"]=l.exports},"22e0":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"list-group"},t._l(t.colors,(function(e,i){return s("router-link",{key:i,staticClass:"list-group-item list-group-item-action",attrs:{to:{name:t.linkName,params:{id:e.id}}}},[s("display-color",{attrs:{color:e}})],1)})),1),0===t.colors.length?s("h3",{staticClass:"text-center mt-5 mb-5"},[t._v(" (No colors) ")]):t._e()])},a=[],r=s("5530"),o=s("2f62"),n=s("d5ff"),l={name:"ColorList",props:{isAdmin:{type:Boolean,default:!1}},components:{DisplayColor:n["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])("colors",["colors"])),{},{linkName:function(){return this.isAdmin?"AdminColorDetail":"ColorDetails"}})},u=l,c=s("2877"),d=Object(c["a"])(u,i,a,!1,null,null,null);e["a"]=d.exports},5118:function(t,e,s){"use strict";s("b078")},"6dc3":function(t,e,s){"use strict";s("0b86")},b078:function(t,e,s){},d5ff:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"colorSquare me-2",style:{backgroundColor:t.color.color}}),s("div",[t._v(t._s(t.color.name))])])},a=[],r={name:"DisplayColor",props:{color:Object}},o=r,n=(s("5118"),s("2877")),l=Object(n["a"])(o,i,a,!1,null,"3d06b224",null);e["a"]=l.exports}}]);
//# sourceMappingURL=adminUserDetail.da5e689e.js.map